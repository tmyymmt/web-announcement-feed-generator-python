本ファイルに記載されている内容に従い、アプリケーションを開発し、正常動作するまでデバッグを行ってください。
回答は日本語で。

# 概要

- 名前は`Web Announcement Feed Generator`
- 指定されたURLのWebページにあるお知らせ情報について、フィードデータのファイルを出力し、そのフィードデータからフィルタ条件に該当する項目について一覧表を出力するツール
- CLIツール

# 仕様

## 機能要件

- **指定されたURLのWebページにある情報のみを使用する**
- **絶対に、指定されたURLのWebページに記載が無い情報を生成してはいけない**
- **絶対に、デモデータ、サンプルデータを生成してはいけない**
- 対象のページのURLにアクセスするときは以下に従うこと
    - User-Agentを最新版のChromeと同一の値にしてアクセスすること
    - JavaScriptの遅延読み込みにも対応できる手法でアクセスすること
- お知らせの項目について以下に着目する
    - お知らせの日付
        - 対応する日付が存在しない場合はお知らせではない
    - お知らせのタイトル
        - 内容だけ存在し、タイトルは存在しない場合もある
    - お知らせの内容
        - 必ず存在する
        - リンク先に存在する場合もある
    - お知らせのカテゴリ名
        - 特にお知らせの内容やカテゴリ名に以下のような単語がある場合はそれも利用すること
            - deprecated、shutodown、important
            - 提供終了、廃止、重要
- フィードデータのフォーマットはRSS 2.0形式とする
- 一覧表のフォーマットはCSVファイル形式とする
    - 日付の書式は「YYYY/MM/DD」にすること
- ユーザからは以下を指定できること
    - 対象WebページのURL
        - 対象WebページのURLとして「all」を指定した場合は、後述の対象ページのURLに指定したURLの全てに対して実行すること
    - フィルタ条件では下記を指定可能であること。だたし、無指定の場合は何もフィルタしないこと
        - 日付の以降、または、以前
        - お知らせのカテゴリ名に含まれる文字列
        - お知らせのカテゴリ名に含まれれない文字列
    - 出力ファイルのファイルパス
        - 一般的にファイル名として無効な文字列は含まないようにすること
        - 無指定の場合は、指定されたURLのドメインとパスに基づくファイル名をデフォルトとして出力すること
        - 「--with-date」を指定した場合は、指定されたURLと日付に基づくファイル名をデフォルトとして出力すること
            - 拡張子を除くファイル名の末尾は日付として「_YYYYMMDD」の形式にすること
- 出力は以下の2ファイル
    - 指定されたURLのWebページにあるお知らせ情報を、フィードデータに変換したファイル
    - フィードデータから指定されたフィルタ条件に該当する項目を出力した一覧表のファイル
- 差分モードを用意し、差分モードでは以下の動作とする
    - 既に前回のフィードデータのファイルが存在する場合は、そのフィードデータの最新の日時以降の項目についてのみ、ファイルを出力する
    - 出力ファイル名は既存のファイルと重複する場合は、拡張子を除くファイル名の最後に「_1」という様に数字を連番で付ける

### 対象ページのURL

- 対象のURLは以下とし、そのURLのページ特有の処理の記載がある場合はそれに従うこと
    - https://firebase.google.com/support/releases
        - htmlの構造は以下である
            - html の class が changelog がお知らせの一覧
                - h2がお知らせの日付
                - h3が大カテゴリ
                - h3の次のulが直前のh2とh3に紐付くお知らせのリスト
                - h3の次のulの直下のliが1個のお知らせ
                    - spanがお知らせのカテゴリ
                    - 残りがお知らせの内容
                - お知らせのタイトルは無い
        - お知らせのhtmlのclassに以下が指定されている場合はそのclass名から「release-」を除いた名前をそのお知らせのカテゴリとする
            - release-admin
            - release-android
            - release-changed
            - release-cli
            - release-cpp
            - release-deprecated
            - release-feature
            - release-fixed
            - release-flutter
            - release-functions
            - release-important
            - release-ios
            - release-issue
            - release-javascript
            - release-removed
            - release-rules
            - release-unity
    - https://ja.monaca.io/headline/
        - このサイトは日本語で書かれていることを考慮すること
        - html の class が headline-entry がお知らせの1項目である
            - headline-entry-type-badge がお知らせのカテゴリ
            - headline-entry-content がお知らせの内容
            - headline-entry-date がお知らせの日付
            - お知らせのタイトルは無い

## 非機能要件

- Ubuntuの最新版LTSのバージョンでの実行を前提
- 開発言語はPythonの最新版LTSのバージョンを使用

# 開発ルール

## 許可

- aptで足りないものをインストールして良い
- pipで足りないものをインストールして良い

## 環境

- .gitignore を作成すること

## 設計

- URLごとにスクレイピングのコードは異なる実装になるため、URLごとに異なるスクレイピングのロジックのソースコードはファイルに分離しておくこと
    - ターゲットのURLごとに、適切なスクレイピングのロジックのソースコードが実行されること
    - スクレイパーのファイル名の命名規則
        - URLのドメインとパスを元にする
        - 全てのOSとURLで扱えるファイル名であること
- SeleniumでヘッドレスChromeを使用する
    - Seleniumが正常動作しない場合は、他の手段を用いてスクレイピングを実施する
- 以下の実行環境を考慮した作りにすること
    - ローカル環境
    - Lambda環境
- ログ出力にはloggerを使用する
    - サイレントオプションを指定した時は出力しないこと

## 前提

- `package.json`の`dependencies`の`chromedriver`のバージョンと、Chromeのバージョンを合わせる
- 日本語フォントがインストールされていない場合は、日本語フォントをインストールして有効化にする
- 必要に応じて`webdriver-manager start --detach`を実行する

## ドキュメンテーション

- ファイルと言語
    - README.mdは英語で記載する
    - README_ja.mdは日本語で記載する
- ライセンス
    - MIT-0
    - LICENSEファイルを作成する
    - ライセンス保有者は`Tomoya Yamamoto`
- 下記も適宜記載すること
    - 前提条件
    - 開発時の流れ
        - 依存関係のインストール方法
        - ビルド方法
        - 実行方法
    - 製品版
        - ビルド方法
        - インストール方法
        - 実行方法

## テスト

- 全ての対象のURLについて、正常動作するまでテストとデバッグを実施すること
